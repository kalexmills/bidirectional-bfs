# bidirectional-bfs
Parallel bi-directional BFS in Golang for fewest-hops paths (i.e. unweighted shortest paths)

A simple implementation of parallel [bidirectional BFS](https://en.wikipedia.org/wiki/Bidirectional_search) for point-to-point queries in graphs.
This mostly exists to help me test my newfound knowledge of Go's concurrency patterns, but it's pretty fast too.
The included data is one of the smaller sets (15 MB) from [the 9th DIMACs implementation challenge](http://users.diag.uniroma1.it/challenge9/download.shtml). The link contains bigger graphs you can try for yourself.

### Explanation

The search starts two go-routines, one searching from the source and the second searching from the destination. Each
goroutine sends newly found nodes to the other along a channel. When a node the other has visited is found, each 
goroutine reconstructs their half of the path and sends it to the main thread, which combines the data appropriately.

### Example usage and expected output
```
$ go run . 12 62352
Data loaded; graph has 264346 nodes
Searching for fewest-hops path from node 12 to node 62352
BFS starting from 12 visited 74282 nodes and 100043 edges
BFS starting from 62352 visited 70367 nodes and 96562 edges
[12 1 1363 1358 1355 1274 1143 1264 1239 1265 1229 1228 1227 941 936 933 935 923 930 919 927 925 924 906 901 755 677 663 660 659 366 365 364 349 347 345 342 320 343 297 294 295 196 202 181 4503 4502 4739 4735 4733 4730 4725 4724 4723 4701 4699 4639 4638 4640 4617 4481 4482 4480 4467 4478 4458 4457 4456 4429 4422 4428 4430 4420 4427 4426 4423 4425 4412 4436 260337 259696 259692 259691 258332 258330 258314 258313 258312 244615 244579 244582 244581 244592 244589 244555 244551 244540 244538 244482 244518 244481 244515 244507 244504 244500 243791 243772 243768 243760 243758 243755 243655 243584 243585 243582 243573 243525 243522 243507 243506 243462 243463 243431 243430 243425 243423 243419 243278 242789 242790 242786 242784 242785 242731 242730 242756 242761 242762 242755 242749 240136 240134 240125 240128 240127 240130 240129 240174 240175 240168 240166 240165 240167 240194 240188 240065 240190 240193 240080 240056 240074 240031 240029 240030 240032 240036 240037 263715 240033 240020 240019 239208 233430 233429 233427 233428 234707 233270 233271 233447 233452 233453 233461 233463 233482 233483 233470 233484 233487 233489 233498 233495 233454 233507 233500 233501 233510 233607 233608 233609 233576 233611 233624 233625 233621 233640 11165 11164 11194 11206 11213 14273 14276 14275 13608 13609 13607 13613 13614 13616 14023 14022 14019 14021 14020 14010 14017 14018 14062 14052 13907 13906 13902 13903 13897 13896 13816 13814 13803 13810 13811 13800 13774 13777 13776 13779 13929 13931 13930 13916 13914 13915 12304 12309 12307 12306 12308 12315 12317 12314 12313 23524 23523 23521 23522 28481 28490 28489 28487 28488 28483 28484 28482 28451 28452 28453 28458 28459 34313 28442 28441 28460 28641 28642 28644 28648 28646 28650 28649 28652 28653 28658 28712 28713 28714 28715 56586 51534 51533 51532 51682 56592 56743 56744 51118 51117 51087 51086 51083 51084 51094 51091 51092 51070 51069 51179 51178 50862 56623 56622 56621 55683 50879 50878 50885 50884 50838 50837 50835 50660 50659 50658 50657 50652 50651 52772 52769 52768 52767 53673 53672 53665 53667 53669 53670 53671 49757 49756 49758 49759 49752 49755 49754 49753 49780 49776 49778 49782 49579 49578 49574 49573 49572 49568 49569 49566 49567 49486 49485 49488 49489 49632 49631 49653 131794 131806 131807 131809 131816 131815 131812 131824 131823 129988 131820 131821 131752 131831 131779 131832 131777 131776 131772 131773 131769 131762 131765 131763 131759 131758 132228 132225 132220 132208 132166 132211 132183 132184 132176 132178 132172 132173 132174 132188 132189 132190 132102 121647 121648 121650 121652 121661 70242 70243 70248 70249 70244 70245 70246 70247 70256 70255 70257 70258 69999 70000 70001 70011 70012 70081 70082 58016 58017 70103 69825 69826 69796 69800 69801 69790 72496 72340 72341 72323 72311 72041 72043 72045 72046 72240 71845 71846 71856 71544 71545 71631 71624 71625 71682 71639 71642 71647 71648 71494 71489 71488 71490 71496 71497 71495 71454 71462 71455 71456 71267 71268 71352 71339 71332 71329 71325 71306 71297 71298 71370 71274 70823 70836 70827 70828 64810 64801 64803 64820 64243 64242 64164 64165 64185 64186 64187 64188 64183 64299 64288 64031 64027 64033 65094 65095 65089 65090 65048 65045 64998 64990 62464 62465 77444 77447 62463 62452 62458 62457 62446 62445 62442 62441 62440 62370 62367 62369 61478 62356 62351 62350 62349 62352]
Search took 241.7885ms
```
You can see that the search visits only about half of the graph's nodes, which is the reason to use bidirectional search.
